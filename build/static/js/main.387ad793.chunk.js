(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],Array(30).concat([function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(22),r=a.n(c),i=a(24),o=a(3),l=(a(30),a(31),s.a.createContext()),u=a(5),j=a(25),d=a(4),m=a(0),b=["component"];function h(e){var t=e.component,a=Object(j.a)(e,b);return Object(m.jsx)(d.b,{children:function(){return a.loggedIn?Object(m.jsx)(t,Object(u.a)({},a)):Object(m.jsx)(d.a,{to:"/"})}})}a(38);var _=function(){return Object(m.jsxs)("section",{className:"promo",children:[Object(m.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(m.jsx)("div",{className:"promo__logo"})]})};a(39);var g=function(){return Object(m.jsxs)("section",{className:"techs",children:[Object(m.jsx)("h2",{className:"techs__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(m.jsx)("h3",{className:"techs__subtitle",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(m.jsx)("p",{className:"techs__paragraph",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(m.jsxs)("div",{className:"techs__items",children:[Object(m.jsx)("div",{className:"techs__item",children:"HTML"}),Object(m.jsx)("div",{className:"techs__item",children:"CSS"}),Object(m.jsx)("div",{className:"techs__item",children:"JS"}),Object(m.jsx)("div",{className:"techs__item",children:"React"}),Object(m.jsx)("div",{className:"techs__item",children:"Git"}),Object(m.jsx)("div",{className:"techs__item",children:"Express.js"}),Object(m.jsx)("div",{className:"techs__item",children:"mongoDB"})]})]})};a(40);var f=function(){return Object(m.jsxs)("section",{className:"aboutme",children:[Object(m.jsx)("h2",{className:"aboutme__title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(m.jsxs)("div",{className:"aboutme__content",children:[Object(m.jsxs)("div",{className:"aboutme__container",children:[Object(m.jsx)("h3",{className:"aboutme__name",children:"\u041c\u0430\u0442\u0432\u0435\u0439"}),Object(m.jsx)("p",{className:"aboutme__profession",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 22 \u0433\u043e\u0434\u0430"}),Object(m.jsx)("p",{className:"aboutme__info",children:'\u042f \u0440\u043e\u0434\u0438\u043b\u0441\u044f \u0438 \u0436\u0438\u0432\u0443 \u0432 \u041c\u043e\u0441\u043a\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438 \u0432 \u0420\u0410\u041d\u0425\u0438\u0413\u0421 (\u0431\u0430\u043a\u0430\u043b\u0430\u0432\u0440) \u0438 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u043d\u0441\u0430\u043b\u0442\u0438\u043d\u0433\u0430 \u0432 \u0420\u042d\u0423 \u0438\u043c. \u0413.\u0412.\u041f\u043b\u0435\u0445\u0430\u043d\u043e\u0432\u0430 (\u043c\u0430\u0433\u0438\u0441\u0442\u0440\u0430\u0442\u0443\u0440\u0430). \u042f \u043b\u044e\u0431\u043b\u044e \u043a\u0430\u0442\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u043d\u043e\u0443\u0431\u043e\u0440\u0434\u0435, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0441\u043f\u043e\u0440\u0442\u043e\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2018 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u044e \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xab\u0411\u043e\u0448\xbb. \u0422\u0430\u043a\u0436\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u0440\u043e\u0448\u0435\u043b \u043a\u0443\u0440\u0441 "\u0418\u043d\u0435\u0440\u043d\u0435\u0442-\u043c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433" \u0432 \u042f\u043d\u0434\u0435\u043a\u0441 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0435. \u0423\u0436\u0435 \u0441\u0435\u0439\u0447\u0430\u0441 \u044f \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u043d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0435 \u0438 \u0434\u0430\u043b\u044c\u0448\u0435 \u0440\u0430\u0437\u0432\u0438\u0432\u0430\u044e\u0441\u044c \u0432 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435.'}),Object(m.jsxs)("div",{className:"aboutme__social",children:[Object(m.jsx)("div",{className:"aboutme__social-item",children:Object(m.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.facebook.com/",className:"aboutme__link",children:"Facebook"})}),Object(m.jsx)("div",{className:"aboutme__social-item",children:Object(m.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/",className:"aboutme__link",children:"Github"})})]})]}),Object(m.jsx)("img",{src:"https://sun9-17.userapi.com/impg/m_TEo0mInFZSgimVW5ETtFU64kCwySE-SYExvg/6JD_CAwueaw.jpg?size=2158x2160&quality=96&sign=4c8548867ca7a40027a11a5a6e343fcb&type=album",alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430",className:"aboutme__photo"})]})]})};a(41);var p=function(){return Object(m.jsxs)("section",{className:"aboutproject",children:[Object(m.jsx)("h2",{className:"aboutproject__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(m.jsxs)("div",{className:"aboutproject__info",children:[Object(m.jsxs)("div",{className:"aboutproject__textblock",children:[Object(m.jsxs)("div",{className:"aboutproject__text-container",children:[Object(m.jsx)("p",{className:"aboutproject__subtitle",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(m.jsx)("p",{className:"aboutproject__text",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(m.jsxs)("div",{className:"aboutproject__text-container",children:[Object(m.jsx)("p",{className:"aboutproject__subtitle",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(m.jsx)("p",{className:"aboutproject__text",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(m.jsxs)("div",{className:"aboutproject__lifecycle-container",children:[Object(m.jsxs)("div",{className:"aboutproject__lifecycle-element aboutproject__lifecycle-element_type_left",children:[Object(m.jsx)("div",{className:"aboutproject__scale aboutproject__scale_color_green",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(m.jsx)("p",{className:"aboutproject__scale-text",children:"Back-end"})]}),Object(m.jsxs)("div",{className:"aboutproject__lifecycle-element aboutproject__lifecycle-element_type_right",children:[Object(m.jsx)("div",{className:"aboutproject__scale aboutproject__scale_color_grey",children:"4 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(m.jsx)("p",{className:"aboutproject__scale-text",children:"Front-end"})]})]})]})]})};a(42);var O=function(){return Object(m.jsxs)("section",{className:"portfolio",children:[Object(m.jsx)("h2",{className:"portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(m.jsxs)("div",{className:"portfolio__items",children:[Object(m.jsx)("div",{className:"portfolio__item",children:Object(m.jsx)("a",{target:"_blank",rel:"noreferrer",className:"portfolio__link",href:"",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(m.jsx)("div",{className:"portfolio__item",children:Object(m.jsx)("a",{target:"_blank",rel:"noreferrer",className:"portfolio__link",href:"",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(m.jsx)("div",{className:"portfolio__item",children:Object(m.jsx)("a",{target:"_blank",rel:"noreferrer",className:"portfolio__link",href:"",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"})})]})]})};a(43);var x=function(){return Object(m.jsxs)("section",{className:"footer",children:[Object(m.jsx)("h4",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(m.jsxs)("div",{className:"footer__container",children:[Object(m.jsxs)("span",{className:"footer__date",children:["\xa9 ",(new Date).getFullYear()]}),Object(m.jsxs)("div",{className:"footer__items",children:[Object(m.jsx)("div",{className:"footer__item",children:Object(m.jsx)("a",{target:"_blank",rel:"noreferrer",className:"footer__link",href:"",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(m.jsx)("div",{className:"footer__item",children:Object(m.jsx)("a",{target:"_blank",rel:"noreferrer",className:"footer__link",href:"",children:"Github"})}),Object(m.jsx)("div",{className:"footer__item",children:Object(m.jsx)("a",{target:"_blank",rel:"noreferrer",className:"footer__link",href:"",children:"Facebook"})})]})]})]})},v=(a(44),a(2));a(45);var N=function(e){var t=e.isBurger,a=e.onClose;return Object(m.jsx)("section",{className:"burger-box ".concat(!t&&"burger-box_off"),children:Object(m.jsxs)("div",{className:"burger",children:[Object(m.jsx)("button",{type:"button",className:"burger__button",onClick:a}),Object(m.jsxs)("div",{className:"burger__conteiner",children:[Object(m.jsxs)("div",{className:"burger__links",children:[Object(m.jsx)(v.b,{activeClassName:"burger__link_active",exact:!0,to:"/",onClick:a,className:"burger__link",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(m.jsx)(v.b,{activeClassName:"burger__link_active",to:"/movies",onClick:a,className:"burger__link",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(m.jsx)(v.b,{activeClassName:"burger__link_active",to:"/saved-movies",onClick:a,className:"burger__link",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(m.jsxs)(v.b,{to:"/profile",className:"header__logged-button header__logged-button_account",children:["\u0410\u043a\u043a\u0430\u0443\u043d\u0442",Object(m.jsx)("span",{className:"header__account-icon"})]})]})]})})};var k=function(e){var t=e.isBurger,a=e.onBurger,n=e.loggedIn,s=Object(d.h)();return Object(m.jsx)(m.Fragment,{children:n?Object(m.jsxs)("header",{className:"/"===s.pathname?"header_main-page header":"header",children:[Object(m.jsx)(v.b,{to:"/",className:"header__logo"}),Object(m.jsxs)("div",{className:"header__button-container header__button-container_registered header_registered-buttons",children:[Object(m.jsx)(v.b,{to:"/movies",className:"/movies"===s.pathname?"header__logged-button header__logged-button_active":"header__logged-button",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(m.jsx)(v.b,{to:"/saved-movies",className:"/saved-movies"===s.pathname?"header__logged-button_active header__logged-button":"header__logged-button",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(m.jsx)("div",{className:"header__button-container header__button-container_registered",children:Object(m.jsxs)(v.b,{to:"/profile",className:"/"===s.pathname?"header__logged-button_account_type_mainpage header__logged-button header__logged-button_account":"header__logged-button header__logged-button_account",children:["\u0410\u043a\u043a\u0430\u0443\u043d\u0442",Object(m.jsx)("span",{className:"header__account-icon"})]})}),Object(m.jsx)("button",{className:"nav__button",onClick:a}),Object(m.jsx)(N,{isBurger:t,onClose:a})]}):Object(m.jsxs)("header",{className:"header header_unlogged",children:[Object(m.jsx)(v.b,{to:"/",className:"header__logo"}),Object(m.jsxs)("div",{className:"header__button-container",children:[Object(m.jsx)(v.b,{to:"/signup",className:"header__button",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(m.jsx)(v.b,{to:"/signin",className:"header__button header__button_type_sign-in",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})};a(46);function y(e){var t=e.isBurger,a=e.onBurger,n=e.loggedIn;return Object(m.jsxs)("main",{className:"main",children:[Object(m.jsx)(k,{isBurger:t,onBurger:a,loggedIn:n}),Object(m.jsx)(_,{}),Object(m.jsx)(p,{}),Object(m.jsx)(g,{}),Object(m.jsx)(f,{}),Object(m.jsx)(O,{}),Object(m.jsx)(x,{})]})}a(47);var S=a(13);function C(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)({}),r=Object(o.a)(c,2),i=r[0],l=r[1],j=Object(n.useState)(!1),d=Object(o.a)(j,2),m=d[0],b=d[1],h=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s(e),l(t),b(a)}),[s,l,b]);return{values:a,errors:i,isValid:m,handleChange:function(e){var t=e.target,n=t.name,c=t.value;s(Object(u.a)(Object(u.a)({},a),{},Object(S.a)({},n,c))),l(Object(u.a)(Object(u.a)({},i),{},Object(S.a)({},n,t.validationMessage))),b(t.closest("form").checkValidity())},resetForm:h,setValues:s,setIsValid:b,setErrors:l}}var w=function(e){var t=e.onRegister,a=C(),n=a.values,s=a.errors,c=a.isValid,r=a.handleChange;return Object(m.jsx)("div",{className:"register",children:Object(m.jsx)("div",{className:"register-page",children:Object(m.jsxs)("form",{className:"register__form",children:[Object(m.jsx)(v.b,{to:"/",title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",className:"register__logo"}),Object(m.jsx)("h2",{className:"register__title",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(m.jsx)("label",{className:"register__input-label",children:"\u0418\u043c\u044f"}),Object(m.jsx)("input",{name:"name",type:"text",className:"register__input register__input_type_login",id:"name",placeholder:"\u0418\u043c\u044f",minLength:"2",maxLength:"40",required:!0,onChange:r,value:n.name||""}),Object(m.jsx)("span",{id:"register__input-error",className:"register__input-error",children:s.name}),Object(m.jsx)("label",{className:"register__input-label",children:"E-mail"}),Object(m.jsx)("input",{name:"email",type:"email",pattern:"[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}",className:"register__input register__input_type_login",id:"email",placeholder:"Email",minLength:"2",maxLength:"40",required:!0,onChange:r,value:n.email||""}),Object(m.jsx)("span",{id:"register__input-error",className:"register__input-error",children:s.email}),Object(m.jsx)("label",{className:"register__input-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(m.jsx)("input",{name:"password",type:"password",className:"register__input register__input_type_login",id:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",minLength:"2",maxLength:"40",required:!0,onChange:r,value:n.password||""}),Object(m.jsx)("span",{id:"register__input-error",className:"register__input-error",children:s.password}),Object(m.jsx)("button",{type:"submit",className:"register__button ".concat(!c&&"register__button_disabled"),disabled:!c,onClick:function(e){e.preventDefault(),t(n.name,n.email,n.password)},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(m.jsxs)("p",{className:"register__link",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(m.jsx)(v.b,{className:"register__link-way",to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})})};a(48);function I(e){var t=e.isBurger,a=e.onBurger,n=e.loggedIn,c=e.signOut,r=e.onUpdateUser,i=e.editIsSuccess,o=e.editIsFailed,u=(s.a.useContext(l),C()),j=u.values,d=u.errors,b=u.isValid,h=void 0!==b&&b,_=u.handleChange,g=u.setIsValid,f=JSON.parse(localStorage.getItem("currentUser"));return Object(m.jsxs)("section",{className:"profile",children:[Object(m.jsx)(k,{isBurger:t,onBurger:a,loggedIn:n}),Object(m.jsx)("h1",{className:"profile__title",children:"\u041f\u0440\u0438\u0432\u0435\u0442, ".concat(f.name)}),Object(m.jsxs)("form",{className:"profile__form",children:[Object(m.jsxs)("label",{className:"profile__label",children:["\u0418\u043c\u044f",Object(m.jsx)("input",{name:"name",minLength:"2",maxLength:"40",className:"profile__input",type:"text",value:j.name||f.name,onChange:_})]}),Object(m.jsx)("span",{id:"profile__input-error",className:"profile__input-error",children:d.name}),Object(m.jsxs)("label",{className:"profile__label",children:["E-mail",Object(m.jsx)("input",{name:"email",minLength:"6",maxLength:"40",className:"profile__input",type:"email",pattern:"[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}",value:j.email||f.email,onChange:_})]}),Object(m.jsx)("span",{id:"profile__input-error",className:"profile__input-error",children:d.email}),i&&Object(m.jsx)("p",{className:"profile__form-sbmt-success",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b!"}),o&&Object(m.jsx)("p",{className:"profile__form-sbmt-failed",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445!"})]}),Object(m.jsx)("button",{className:"profile__button ".concat(!h&&"profile__button_disabled"),disabled:j.name===f.name&&j.email===f.email||!h,onClick:function(e){e.preventDefault(),r(j.name,j.email),localStorage.setItem("currentUser",JSON.stringify(j)),g(!1)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(m.jsx)(v.b,{to:"/",className:"profile__button profile__button_log-out",onClick:c,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})}a(49),a(50);var B=a.p+"static/media/searchicon.9d65490b.svg";var L=function(e){var t=e.keyword,a=e.isinputvalue,n=e.searchArr,c=e.submit,r=e.checkbox,i=s.a.useState(!1),l=Object(o.a)(i,2),u=l[0],j=l[1],d=s.a.useState(!0),b=Object(o.a)(d,2),h=b[0],_=b[1],g=s.a.useState(!1),f=Object(o.a)(g,2),p=f[0],O=f[1];return Object(m.jsx)("section",{className:"searchform",children:Object(m.jsxs)("div",{className:"searchform__container",children:[Object(m.jsxs)("form",{className:"searchform__main",children:[Object(m.jsx)("img",{src:B,className:"searchform__icon",alt:"icon"}),Object(m.jsx)("input",{className:"searchform__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",type:"text",minLength:2,maxLength:40,required:!0,onChange:function(e){a(e.target.value),j(!1)}}),Object(m.jsx)("p",{children:u&&"\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"}),Object(m.jsx)("p",{className:"".concat(!p&&"invisable"),children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),Object(m.jsx)("button",{type:"submit",className:"searchform__button",onClick:function(e){if(e.preventDefault(),t){n([]);var a=c();0===a.length?O(!0):O(!1),n(a)}else j(!0)}})]}),Object(m.jsxs)("div",{className:"searchform__addition",children:[Object(m.jsx)("input",{className:"searchform__checkbox",id:"short-films",type:"checkbox",onChange:function(){_(!h),r(h)}}),Object(m.jsx)("label",{className:"searchform__label",htmlFor:"short-films"}),Object(m.jsx)("span",{className:"searchform__text",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})]})})};a(51),a(52);var E=function(e){var t=e.movie,a=e.onDelete,n=e.saved,s=e.saveMovie,c="movies__card-button ".concat(n?"movies__card-save-active":"movies__card-save"),r=Object(d.h)();return Object(m.jsxs)("li",{className:"movies__card",children:[Object(m.jsx)("a",{href:"/movies"===r.pathname?t.trailerLink:t.trailer,children:Object(m.jsx)("img",{className:"movies__card-image",src:"/movies"===r.pathname?"https://api.nomoreparties.co".concat(t.image.url):t.image,alt:t.nameRU})}),Object(m.jsxs)("div",{className:"movies__container",children:[Object(m.jsx)("h2",{className:"movies__card-title",children:t.nameRU}),Object(m.jsx)("p",{className:"movies__card-movie-time",children:function(e){var t=Math.trunc(e/60),a=e%60;return 0===t?"".concat(a,"\u043c"):"".concat(t,"\u0447 ").concat(a,"\u043c")}(t.duration)})]}),Object(m.jsx)(m.Fragment,{children:"/movies"===r.pathname?Object(m.jsx)("button",{type:"button",className:c,onClick:function(){n?a(t.id):s(t)}}):Object(m.jsx)("button",{type:"button",className:"movies__card-button movie__card-delete",onClick:function(){a(t.id)}})})]})},A=1160,R=768;function U(e){var t=e.movies,a=e.saveMovie,n=e.onDelete,c=e.moviesSaved,r=Object(d.h)(),i=s.a.useState(0),l=Object(o.a)(i,2),u=l[0],j=l[1],b=t.slice(0,u);function h(e){return c.find((function(t){return t.id===e.id}))}return s.a.useEffect((function(){window.innerWidth<R?j(5):window.innerWidth>=R&&window.innerWidth<=A?j(8):window.innerWidth>A&&j(12)}),[]),Object(m.jsxs)("section",{className:"items",children:[Object(m.jsx)("ul",{className:"movies__cardlist",children:b.map((function(e){return Object(m.jsx)(E,{saved:h(e),movie:e,saveMovie:a,onDelete:n},e.id)}))}),Object(m.jsx)("div",{className:"button__container",children:Object(m.jsx)("button",{onClick:function(){return window.innerWidth<R?j(u+1):window.innerWidth>=R&&window.innerWidth<=A?j(u+2):window.innerWidth>A?j(u+3):void 0},className:"".concat((r.pathname,"movies__more-films")," ").concat(b.length===t.length?"movies__more-films-none":""),children:"\u0415\u0449\u0451"})})]})}var T=function(e){var t,a=e.isBurger,n=e.onBurger,c=e.films,r=e.loggedIn,i=e.saveMovie,l=e.onDelete,u=e.moviesSaved,j=e.setIsPreloader,d=s.a.useState(""),b=Object(o.a)(d,2),h=b[0],_=b[1],g=s.a.useState([c]),f=Object(o.a)(g,2),p=f[0],O=f[1],v=s.a.useState(!0),N=Object(o.a)(v,2),y=(N[0],N[1]),S=s.a.useState(!1),C=Object(o.a)(S,2),w=C[0],I=C[1];return s.a.useEffect((function(){O(c)}),[]),s.a.useEffect((function(){var e=JSON.parse(localStorage.getItem("films"));null===e?e=[]:O(e)}),[]),s.a.useEffect((function(){localStorage.setItem("films",JSON.stringify(p))}),[p]),Object(m.jsxs)("section",{className:"movies",children:[Object(m.jsx)(k,{isBurger:a,onBurger:n,loggedIn:r}),Object(m.jsx)(L,{keyword:h,isinputvalue:function(e){_(e)},submit:function(){function e(e,t){return e.nameRU.toLowerCase().includes(t.toLowerCase())}return j(!0),j(!1),y(!1),c.filter((function(t){return e(t,h)}))},checkbox:function(e){I(e)},searchArr:function(e){O(e)}}),Object(m.jsx)(U,{movies:w?(t=p,t.filter((function(e){return e.duration<40}))):p,saveMovie:i,onDelete:l,moviesSaved:u}),Object(m.jsx)(x,{})]})};a(53);var z=function(e){var t,a=e.isBurger,n=e.onBurger,c=e.loggedIn,r=e.films,i=e.onDeleteCard,l=e.saveMovie,u=s.a.useState(""),j=Object(o.a)(u,2),d=j[0],b=j[1],h=s.a.useState(r),_=Object(o.a)(h,2),g=_[0],f=_[1],p=s.a.useState(!0),O=Object(o.a)(p,2),v=(O[0],O[1]),N=s.a.useState(!1),y=Object(o.a)(N,2),S=y[0],C=y[1];return Object(m.jsxs)("section",{className:"movies",children:[Object(m.jsx)(k,{isBurger:a,onBurger:n,loggedIn:c}),Object(m.jsx)(L,{keyword:d,isinputvalue:function(e){b(e)},submit:function(){return v(!1),r.filter((function(e){return function(e,t){return e.nameRU.toLowerCase().includes(t.toLowerCase())}(e,d)}))},checkbox:function(e){C(e)},searchArr:function(e){f(e)},saveMovie:l}),Object(m.jsx)(U,{movies:S?(t=g,t.filter((function(e){return e.duration<40}))):g,moviesSaved:r,saveMovie:l,onDelete:function(e){var t=g.filter((function(t){return e!==t.id}));f(t),i(e)}}),Object(m.jsx)(x,{})]})};a(54);var D=function(e){var t=e.onLogin,a=C(),n=a.values,s=a.errors,c=a.isValid,r=a.handleChange;return Object(m.jsx)("div",{className:"login",children:Object(m.jsx)("div",{className:"login-page",children:Object(m.jsxs)("form",{className:"login__form",children:[Object(m.jsx)(v.b,{to:"/",title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",className:"login__logo"}),Object(m.jsx)("h2",{className:"login__title",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(m.jsx)("label",{className:"login__input-label",children:"E-mail"}),Object(m.jsx)("input",{name:"email",type:"email",pattern:"[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}",className:"login__input login__input_type_login",id:"email",placeholder:"Email",minLength:"6",maxLength:"40",required:!0,onChange:r,value:n.email||""}),Object(m.jsx)("span",{id:"login__input-error",className:"login__input-error",children:s.email}),Object(m.jsx)("label",{className:"login__input-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(m.jsx)("input",{name:"password",type:"password",className:"login__input login__input_type_login",id:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",minLength:"6",maxLength:"40",required:!0,onChange:r,value:n.password||""}),Object(m.jsx)("span",{id:"login__input-error",className:"login__input-error",children:s.password}),Object(m.jsx)("button",{type:"submit",className:"login__button ".concat(!c&&"login__button_disabled"),disabled:!c,onClick:function(e){e.preventDefault(),t(n.email,n.password)},children:"\u0412\u043e\u0439\u0442\u0438"}),Object(m.jsxs)("p",{className:"login__link",children:["\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(m.jsx)(v.b,{className:"login__link-way",to:"/signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})})})};a(55);function P(e){var t=e.status,a=e.message;return Object(m.jsxs)("section",{className:"error",children:[Object(m.jsx)("span",{className:"error__status",children:t}),Object(m.jsx)("h1",{className:"error__message",children:a}),Object(m.jsx)(v.b,{to:"/",className:"error__link",children:"\u041d\u0430\u0437\u0430\u0434"})]})}var F=a(15),J=a(16),M=new(function(){function e(t){Object(F.a)(this,e),this._url=t.url,this.headers=t.headers}return Object(J.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}},{key:"getMovies",value:function(){return fetch("".concat(this._url),{method:"GET",headers:Object(u.a)({},this.headers)}).then(this._checkResponse)}}]),e}())({url:"https://api.nomoreparties.co/beatfilm-movies",headers:{"content-type":"application/json"}}),Z=new(function(){function e(t){Object(F.a)(this,e),this._url=t.url,this.headers=t.headers}return Object(J.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}},{key:"getProfileInfo",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:Object(u.a)(Object(u.a)({},this.headers),{},{Authorization:"Bearer ".concat(e)})}).then(this._checkResponse)}},{key:"putProfileInfo",value:function(e,t,a){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:Object(u.a)(Object(u.a)({},this.headers),{},{Authorization:"Bearer ".concat(a)}),body:JSON.stringify({name:e,email:t})}).then(this._checkResponse)}},{key:"getAllCard",value:function(e){return fetch("".concat(this._url,"/movies"),{method:"GET",headers:Object(u.a)(Object(u.a)({},this.headers),{},{Authorization:"Bearer ".concat(e)})}).then(this._checkResponse)}},{key:"addCard",value:function(e,t){return fetch("".concat(this._url,"/movies"),{method:"POST",headers:Object(u.a)(Object(u.a)({},this.headers),{},{Authorization:"Bearer ".concat(t)}),body:JSON.stringify({country:e.country,director:e.director,duration:e.duration,year:e.year,description:e.description,image:"https://api.nomoreparties.co".concat(e.image.url),trailer:e.trailerLink,thumbnail:"https://api.nomoreparties.co".concat(e.image.url),movieId:e.id,nameRU:e.nameRU,nameEN:e.nameEN})}).then(this._checkResponse)}},{key:"removeCard",value:function(e,t){return fetch("".concat(this._url,"/movies/").concat(e),{method:"DELETE",headers:Object(u.a)(Object(u.a)({},this.headers),{},{Authorization:"Bearer ".concat(t)})}).then(this._checkResponse)}}]),e}())({url:"https://api.mattzenn-movies.nomoredomains.rocks",headers:{"Content-type":"application/json"}}),V=(a(56),function(e){var t=e.visible;return Object(m.jsx)("div",{className:"preloader ".concat(t?"visible":"invisible"),children:Object(m.jsx)("div",{className:"preloader__container",children:Object(m.jsx)("span",{className:"preloader__round"})})})}),W="https://api.mattzenn-movies.nomoredomains.rocks",q=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))};function G(){var e=Object(d.g)(),t=Object(d.h)(),a=s.a.useState(!1),n=Object(o.a)(a,2),c=n[0],r=n[1],u=s.a.useState(!1),j=Object(o.a)(u,2),b=j[0],_=j[1],g=s.a.useState({}),f=Object(o.a)(g,2),p=f[0],O=f[1],x=s.a.useState([]),v=Object(o.a)(x,2),N=v[0],k=v[1],S=s.a.useState([]),C=Object(o.a)(S,2),B=C[0],L=C[1],E=s.a.useState(!1),A=Object(o.a)(E,2),R=A[0],U=A[1],F=s.a.useState(!1),J=Object(o.a)(F,2),G=J[0],H=J[1],Y=s.a.useState(!1),K=Object(o.a)(Y,2),Q=K[0],X=K[1];function $(){r(!c)}function ee(){_(!0);var e=localStorage.getItem("token");Z.getAllCard(e).then((function(e){var t=e.map((function(e){return{key:e._id,id:e.movieId,image:e.image,nameRU:e.nameRU,duration:e.duration,owner:e.owner,trailer:e.trailer}}));L(t)})).catch((function(e){alert(e)})).finally((function(){return _(!1)}))}function te(e){var t=localStorage.getItem("token");_(!0),Z.removeCard(e,t).then((function(t){var a=B.filter((function(t){return e!==t.id}));L(a)})).catch((function(e){alert(e)})).finally((function(){return _(!1)}))}function ae(t,a){_(!0),function(e,t){return fetch("".concat(W,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(q)}(t,a).then((function(t){t.token&&(localStorage.setItem("token",t.token),U(!0),e.push("/movies"),Z.getProfileInfo(t.token).then((function(e){localStorage.setItem("currentUser",JSON.stringify(e.data)),O(e),ee()})))})).catch((function(e){alert(e)})).finally((function(){return _(!1)}))}return s.a.useEffect((function(){var a=t.pathname,n=localStorage.getItem("token");n&&function(e){return fetch("".concat(W,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(q)}(n).then((function(t){U(!0),Z.getProfileInfo(n).then((function(e){O(e),localStorage.setItem("currentUser",JSON.stringify(e.data)),ee()})),e.push(a)})).catch((function(e){alert(e),localStorage.removeItem("token")})),M.getMovies().then((function(e){k(e),localStorage.setItem("films",JSON.stringify(e))})).catch((function(e){alert(e)}))}),[]),Object(m.jsx)("div",{className:"app",children:Object(m.jsxs)(l.Provider,{value:p,children:[Object(m.jsx)(V,{visible:b}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:"/",children:Object(m.jsx)(y,{isBurger:c,onBurger:$,loggedIn:R})}),Object(m.jsx)(h,{path:"/movies",component:T,isPreloader:b,setIsPreloader:_,isBurger:c,loggedIn:R,films:N,onBurger:$,saveMovie:function(e){var t=localStorage.getItem("token");_(!0),Z.addCard(e,t).then((function(e){var t={key:e._id,id:e.movieId,image:e.image,nameRU:e.nameRU,duration:e.duration,owner:e.owner,trailer:e.trailer};L([t].concat(Object(i.a)(B)))})).catch((function(e){alert(e)})).finally((function(){return _(!1)}))},moviesSaved:B,onDelete:te}),Object(m.jsx)(h,{path:"/saved-movies",component:z,loggedIn:R,isBurger:c,films:B,onBurger:$,onDeleteCard:te}),Object(m.jsx)(h,{path:"/profile",component:I,loggedIn:R,isBurger:c,onBurger:$,signOut:function(){localStorage.removeItem("currentUser"),localStorage.removeItem("token"),O({}),L([]),U(!1),localStorage.clear()},onUpdateUser:function(e,t){_(!0);var a=localStorage.getItem("token");Z.putProfileInfo(e,t,a).then((function(e){H(!0),O(e),setTimeout((function(){H(!1)}),3e3)})).catch((function(e){alert(e),X(!0),setTimeout((function(){X(!1)}),3e3)})).finally((function(){return _(!1)}))},editIsSuccess:G,editIsFailed:Q}),Object(m.jsxs)(d.b,{path:"/signup",children:[R?Object(m.jsx)(d.a,{to:"/"}):"",Object(m.jsx)(w,{onRegister:function(t,a,n){_(!0),function(e,t,a){return fetch("".concat(W,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:a})}).then(q)}(t,a,n).then((function(t){ae(a,n),e.push("/signin")})).catch((function(e){alert(e)})).finally((function(){return _(!1)}))}})]}),Object(m.jsxs)(d.b,{path:"/signin",children:[R?Object(m.jsx)(d.a,{to:"/"}):"",Object(m.jsx)(D,{onLogin:ae})]}),Object(m.jsx)(d.b,{path:"*",children:Object(m.jsx)(P,{message:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430",status:"404"})})]})]})})}var H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,58)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(v.a,{basename:"/",children:Object(m.jsx)(G,{})})}),document.getElementById("root")),H()}]),[[57,1,2]]]);
//# sourceMappingURL=main.387ad793.chunk.js.map